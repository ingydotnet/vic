PIC P16F690;

pragma debounce count = 5;
pragma debounce delay = 1ms;

Main {
    digital_output PORTC;
    digital_input RA3;
    $display = 0;
    Loop {
        debounce RA3, Action {
            ++$display;
            write PORTC, $display;
        };
    }
}

Simulator {
    attach_led PORTC, 4, 'red';
    logfile "debouncer.lxt";
    log RA3;
    scope RA3;
    stimulate RA3, every 1s, wave [ 100, 0, 300, 1, 400, 0, 420, 1, 500, 0, 520, 1, 600, 0 ];
    stop_after 10s;
}
