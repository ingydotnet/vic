<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>VIC by Selective Intellect</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/respond.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="stylesheets/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>
      <div id="header">
        <nav>
          <li class="fork"><a href="https://github.com/selectiveintellect/vic">View On GitHub</a></li>
          <li class="downloads"><a href="https://github.com/selectiveintellect/vic/zipball/master">ZIP</a></li>
          <li class="downloads"><a href="https://github.com/selectiveintellect/vic/tarball/master">TAR</a></li>
          <li class="title">DOWNLOAD SOURCE</li>
        </nav>
      </div><!-- end header -->

    <div class="wrapper">
    <section>
        <div id="title">
        <p>VIC&trade; - A compiler for Microchip&#8217;s PIC&reg; Microcontrollers</p>
        <hr>
        <span class="credits left">Project sponsored by <a
        href="http://selectiveintellect.com">Selective Intellect</a></span>
        <span class="credits right">Hosted on GitHub Pages &mdash; Theme by <a href="https://twitter.com/michigangraham">mattgraham</a></span>
        <br/><br/>
        <span class="credits left"><a href="./index.html">Table of Contents</a></span>
        <span class="credits right"><a href="syntax.html">Prev</a>&nbsp;&nbsp;<a href="functions.html">Next</a></span>
        </div>
<h1 id="commandlineoptions">Commandline Options</h1>

<p>The <code>vic</code> compiler can accept commandline options that mainly allow the user to
<em>reuse</em> code for other Microchip&#8217;s PIC&reg; MCUs and modify the <code>pragma</code> statements on the
fly.</p>

<p>Here is a list of the commandline options currently supported in both short and
long form:</p>

<ul>
<li><p><code>-h</code>, <code>--help</code>:
This option displays the help message for the compiler.</p></li>
<li><p><code>--version</code>:
This option displays the version number of the compiler.</p></li>
<li><p><code>--list-chips</code>:
This option lists the microcontroller chips supported by the compiler.</p></li>
<li><p><code>--list-simulators</code>:
This option lists the simulators supported by the compiler.</p></li>
<li><p><code>--verbose</code>:
This option turns on verbose printing of the compiler during compile time. This is different
from the <code>--debug</code> or <code>--intermediate</code> options which are for the compiled code.</p></li>
<li><p><code>-d</code>, <code>--debug</code>:
This option turns on internal debugging of the compiler&#8217;s parser. The user
should not have to use this option unless filing a bug report. It is mainly for
the developers.</p></li>
<li><p><code>-i</code>, <code>--intermediate</code>:
This option embeds the intermediate code generated by the compiler into the
assembly outputs as comments. This can be used by the user to view how the
compiler generates code for the VIC&trade; statements and by the developer for
debugging code generation.</p></li>
<li><p><code>-o &lt;FILE&gt;</code>, <code>--output &lt;FILE&gt;</code>:
This option tells the compiler to save the output to the <code>FILE</code>
argument provided. If the filename ends with <code>.asm</code> the compiler only compiles
to assembly. If the filename ends with <code>.hex</code> or anything else, the compiler
will compile to assembly and also try to link it to create a binary hex file to
be programmed onto the chip. However, if <code>gputils</code> is not installed, only the
compilation to assembly will take place. If the user does not provide this option the compiler prints the assembly output to the screen(<code>stdout</code>).</p></li>
<li><p><code>-p &lt;MCU Target&gt;</code>, <code>--pic &lt;MCU Target&gt;</code>:
This is the most <strong>useful</strong> of all options where the user can compile a code
written for one type of Microchip&#8217;s PIC&reg; MCU target for a different MCU target. This
enables the user to achieve the following goals:</p>

<ol>
<li>allow for code reuse between MCUs, allowing compilation to various targets</li>
<li>verify if a piece of code can work on another Microchip&#8217;s PIC&reg; MCU without reading that MCU&#8217;s data sheet</li>
<li>find out the parts of the code which will <em>not</em> work on another MCU</li>
</ol></li>
<li><p><code>--simulate</code>
This has to be used along with the <code>--output</code> option defined above as it
uses the compiled and linked file and starts the simulator <code>gpsim</code> or any other
selected simulator with it. This
allows the user to quickly run everything from the same executable <code>vic</code> without
having to type the simulator&#8217;s commands directly.</p></li>
<li><p><code>--supports &lt;MCU Target&gt;</code>:
This is similar to the <code>-p</code> option above except that it does <em>not</em> compile any
code. It can be used by the user or any other external program to verify if a
certain MCU target is supported by <code>vic</code>. If it is not supported, the code
cannot be compiled to that target.</p></li>
<li><p><code>--list-features &lt;MCU Target&gt;</code>:
This is similar to the <code>--supports</code> option above except that it also lists
the features supported by the chip. This automatically turns on the <code>--supports</code>
option.</p></li>
<li><p><code>--chip-pinout &lt;MCU Target&gt;</code>:
This option draws the pin diagram of the chip on the terminal that it has
been invoked in. This allows for the user to quickly see how the pins are
arranged on a particular chip and what their names are, as per feature.</p></li>
</ul>

<p>Here is an example of the pin diagram of the <code>PIC16F631</code> chip.</p>

<pre><code>                           +======__======+
                    Vdd ---|1           20|--- Vss
                           |              |
   RA5/T1CKI/OSC1/CLKIN ---|2           19|--- RA0/C1N+/ICSPDAT/ULPWU
                           |              |
    RA4/T1G/OSC2/CLKOUT ---|3           18|--- RA1/C12IN0-/ICSPCLK
                           |              |
           RA3/MCLR/Vpp ---|4           17|--- RA2/T0CKI/INT/C1OUT
                           |              |
                    RC5 ---|5           16|--- RC0/C2IN+
                           |              |
                           |   P16F631    |
                           |              |
              RC4/C2OUT ---|6           15|--- RC1/C12IN1-
                           |              |
            RC3/C12IN3- ---|7           14|--- RC2/C12IN2-
                           |              |
                    RC6 ---|8           13|--- RB4
                           |              |
                    RC7 ---|9           12|--- RB5
                           |              |
                    RB7 ---|10          11|--- RB6
                           |              |
                           +==============+
</code></pre>

<ul>
<li><p><code>--list-gputils</code>:
This option lets the user know where the <code>gpasm</code> and <code>gplink</code> tools are
located on the current system for the <code>gputils</code> package. The <code>vic</code> compiler
checks the system install paths as well as any installs done by
<code>Alien::gputils</code>.</p></li>
<li><p><code>--no-hex</code>:
The <code>vic</code> compiler automatically looks for <code>gpasm</code> and <code>gplink</code> to create
the appropriate <code>.hex</code> file for use by the <code>pk2cmd</code> or other programming
software. If the user does not want to generate the <code>.hex</code> file then they should
use this option. This is especially useful if <code>gputils</code> is installed and the
user does not want to compile the <code>.hex</code> file.</p></li>
</ul>

<p>Based on these options here are some sample examples on how to use them:</p>

<pre><code># to print the compiler version
$ vic -V
# to print the help message
$ vic -h
# to compile to a hex file
$ vic -o helloworld.hex helloworld.vic
# to compile to assembly
$ vic -o helloworld.asm helloworld.vic
# to compile to a hex file but override the chip in the code
$ vic -p p16f631 -o helloworld.hex helloworld.vic
# to compile only to assembly with intermediate code and not to a hex file
$ vic -i -o helloworld.asm helloworld.vic
$ vic -i -o helloworld.hex --no-hex helloworld.vic
# to compile to a hex file and simulate the code
$ vic -o helloworld.hex --simulate helloworld.vic
# to list the chips supported
$ vic --list-chips
# to list the simulators supported
$ vic --list-simulators
# to check if the chip is supported
$ vic --supports P12F683
# to list the chip's features
$ vic --list-chip-features P16F685
# to print the chip's pin diagram
$ vic --chip-pinout P16F631
# to print the locations of the gputils tools
$ vic --list-gputils
</code></pre>

<p>Now that we have learned enough about using the <code>vic</code> compiler, let us move on
to studying the various available in-built functions for VIC&trade;.</p>
    <hr>
    <div id="title">
    <span class="credits left"><a href="./index.html">Table of Contents</a></span>
    <span class="credits right"><a href="syntax.html">Prev</a>&nbsp;&nbsp;<a href="functions.html">Next</a></span>
    <br/><br/>
    <p style="font-size:14px;">Vikas N Kumar (<a href="https://github.com/vikasnkumar"
class="user-mention">@vikasnkumar</a>) is the author of
<strong>VIC&trade;</strong>. All copyrights belong to the author and Selective
Intellect LLC.</p>
    <p style="font-size:12px;">VIC&trade; is licensed under the <a
    href="http://dev.perl.org/licenses/">license terms of Perl</a>.
    <br/>
    The development of VIC&trade; is sponsored by <a
    href="http://selectiveintellect.com">Selective Intellect LLC.</a>
    </p>
    <p style="font-size:11px;">
        This page was last updated on 2014-12-02 10:39:14 -0500.
    </p>
    </div>
    </section>
    </div><!-- end wrapper -->
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
  </body>
